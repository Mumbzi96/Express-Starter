<script>
    // Function to display/hide the Edit/Delete option panel
    function toggleOptions(element) {
        const dropdown = element.nextElementSibling;
        if (dropdown.classList.contains('hidden')) {
            dropdown.classList.remove('hidden');
        } else {
            dropdown.classList.add('hidden');
        }
    }

    // The Search Function
    const search = () => {
        let input, filter, div, cards, card, data, txtValue, counter;

        input = document.getElementById("search")
        filter = input.value.toUpperCase();
        div = document.getElementById('content')

        for (let i = 0; i < div.getElementsByClassName('card').length; i++) {
            cards = div.getElementsByClassName('card')[i]
            card = cards.querySelectorAll('.able')
            counter = 0;

            for (let j = 0; j < card.length; j++) {
                data = card[j]
                txtValue = data.innerText
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    counter++;
                }
            }
            if (counter > 0) {
                cards.style.display = ""
            } else {
                cards.style.display = "none";
            }
        }
    }
    // Confirmation for deleting a user
    const deleteConfirm = (id) => {
        let deleteButton = document.getElementById(`del${id}`)
        let message = language === "English" ? 'Are You Sure you want to delete this user?' : "هل أنت متأكد أنك تريد حذف هذا المستخدم؟"
        if (confirm(message)) {
            location.href = `/users/delete/${id}`
        }
    }

    const resetConfirm = (id) => {
        let resetButton = document.getElementById(`reset${id}`)
        let message = language === "English" ? 'Are You Sure you want to reset the password for this user?' : "هل أنت متأكد أنك تريد إعادة تعيين كلمة المرور لهذا المستخدم؟"
        if (confirm(message)) {
            location.href = `/users/reset/${id}`
        }
    }

</script>